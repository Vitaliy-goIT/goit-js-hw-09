{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SACJC,EAAAH,EAAKI,SAA7BC,EAAwBF,EAAxBG,MAAOC,EAAiBJ,EAAjBK,KAAMC,EAAWN,EAAXO,OAoBrB,SAASC,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACLN,EACFI,EAAQ,CAAEN,WAAUN,MAAAO,IAEpBM,EAAO,CAAEP,WAAUN,MAAAO,MAEpBA,MAIP,SAASQ,EAAUC,G,IAAEV,EAAFU,EAAEV,SAAUW,EAAZD,EAAYhB,MAC7BR,EAAA0B,OAAOC,QAAQ,uBAAwCC,OAAfd,EAAS,QAAYc,OAANH,EAAM,OAG/D,SAASI,EAAQL,G,IAAEV,EAAFU,EAAEV,SAAUgB,EAAZN,EAAYhB,MAC3BR,EAAA0B,OAAOK,QAAQ,sBAAqCH,OAAfd,EAAS,QAAYc,OAANE,EAAM,OArC5D5B,EAAK8B,iBAAiB,UAEtB,SAAiBC,GACfA,EAAIC,iBAEJ,IAAIC,EAAYC,OAAO7B,EAAM8B,OACvBC,EAAWF,OAAO3B,EAAK4B,OACvBE,EAAaH,OAAOzB,EAAO0B,OAEjC,GAAIF,EAAY,GAAKG,EAAW,GAAKC,EAAa,EAChD,OAEF,IAAK,IAAIC,EAAI,EAAGA,GAAKD,EAAYC,IAC/B3B,EAAc2B,EAAGL,GAAWM,KAAKlB,GAAWmB,MAAMb,GAClDM,GAAaG,K","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nconst { delay, step, amount } = form.elements;\n\nform.addEventListener('submit', onClick);\n\nfunction onClick(evt) {\n  evt.preventDefault();\n\n  let userDelay = Number(delay.value);\n  const userStep = Number(step.value);\n  const userAmount = Number(amount.value);\n\n  if (userDelay < 0 || userStep < 0 || userAmount < 0) {\n    return;\n  }\n  for (let i = 1; i <= userAmount; i++) {\n    createPromise(i, userDelay).then(onSuccess).catch(onError);\n    userDelay += userStep;\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((fulfill, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        fulfill({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction onSuccess({ position, delay }) {\n  Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n}\n\nfunction onError({ position, delay }) {\n  Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$_elements","elements","$ce04d3a99e08e73b$var$delay","delay","$ce04d3a99e08e73b$var$step","step","$ce04d3a99e08e73b$var$amount","amount","$ce04d3a99e08e73b$var$createPromise","position","delay1","shouldResolve","Math","random","Promise","fulfill","reject","setTimeout","$ce04d3a99e08e73b$var$onSuccess","param","delay2","Notify","success","concat","$ce04d3a99e08e73b$var$onError","delay3","failure","addEventListener","evt","preventDefault","userDelay","Number","value","userStep","userAmount","i","then","catch"],"version":3,"file":"03-promises.d9bcca7f.js.map"}